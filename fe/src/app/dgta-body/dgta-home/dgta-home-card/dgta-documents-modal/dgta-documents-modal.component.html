<div class="overlay">

</div>
<div class="container">
    <div class="container column-top-left">
        

        <div class="w-100 h-100c container-scroll absolute-pos column-top-center">

            <div class="row-center-space-between bar-container">
                <div class="row-center-left cursor-pointer" (click)="close()">
                    <fa-icon class="p3px" [icon]="faChevronLeft"></fa-icon>
                    <small>cataloghi</small>
                </div>
                <div class="row-center-space-between mr10px">
                    <button *ngIf="!sessionService.activeSelectDocument" class="add-category mr10px"
                        (click)="openModalDocumentFormModal()">Aggiungi</button>
                    <button *ngIf="!sessionService.activeSelectDocument" class="select-category p10px"
                        (click)="activeSelectMode()">Seleziona</button>
                    <button *ngIf="sessionService.activeSelectDocument" class="select-category mr10px p10px"
                        (click)="deactiveSelectMode()">Annulla</button>
                    <button *ngIf="sessionService.activeSelectDocument" class="select-category p10px"
                        (click)="deleteMassive()">Elimina {{ sessionService.selectedCatalogues.length }}</button>
                    <!-- <button class="select-category">Seleziona</button>
                    <div class="row-left-left p10px" (click)="openModalCatalogueFormModal()">
                        <fa-icon class="cursor-pointer font-size-15em add-folder" [icon]="faFolderPlus"></fa-icon>
                    </div> -->
                </div>
            </div>
            <div>
                <strong>{{ catalogue.title }}</strong>
            </div>
            <dgta-search-document (getDocumentsE)="getDocuments($event)"
            (hideTopicsE)="hideTopics()"
            (getDocumentByIdE)="getDocumentById($event)"></dgta-search-document>
            <dgta-filter-documents 
                class="row-center-left flex-wrap"
                [ngClass]="{'behind': !showTopics}" 
                [documents]="documents"
                (closeFilterModalE)="hideTopics()"
                (getDocumentssByDateE)="getDocumentsbydate()"></dgta-filter-documents>
            <div class="row-center-center w100p">
                <div class="ml10px cursor-pointer row-center-right max-width410px w100p" (click)="toggleTopics()">Filtra 
                            <div class="filter-icon"></div>
                </div>
            </div>
            <div class="row-center-left mb10px">
                <h2 class="ml10px color-white">DOCUMENTI</h2>
                <div class="row-left-left p10px" (click)="openModalDocumentFormModal()">
                    <fa-icon class="cursor-pointer font-size-15em" [icon]="faFolderPlus"></fa-icon>
                </div>
            </div>
            <!-- <strong class="ml10px cursor-pointer" (click)="toggleTopics()">{{ toggleTopicsLabel }}</strong> -->
            <!-- <dgta-topic-card *ngIf="showTopics" class="row-center-space-between flex-wrap"
            (getCataloguesByTopicE)="getDocuments()"></dgta-topic-card> -->
            <!-- <div *ngFor="let documentListed of documents" class="column-top-right">
                <div class="column-top-left w100p">
                    <div class="row-center-space-between  w100p">
                        <div class="row-center-space-between document-container p10px">
                            <div class="row-center-left">
                                <fa-icon class="cursor-pointer color-yellow-folder font-size-3em"
                                    [icon]="faFolder"></fa-icon>
                                <div class="column-left-left ml5px w200px">
                                    <strong class="">{{ documentListed.name }}</strong>
                                   
                                </div>
                                
                            </div>
                            <div class="row-center-center w10p">
                                <fa-icon class="cursor-pointer font-size-25em" [icon]="faTrash"
                                    (click)="deleteDocument(documentListed)"></fa-icon>
                            </div>
                        </div>
                    </div>
                    <div class="p10px row-center-center w100p bkg-grey">
                        <div class="row-left-space-around w100p">
                            <div class="row-center-center w10p">
                                <div class="column-center-center">
                                    <fa-icon class="cursor-pointer font-size-20em" [icon]="faFileLines"
                                        (click)="openAttachmentsModal(documentListed)"></fa-icon>
                                    <small>documenti</small>
                                </div>
                            </div>
                            <div class="row-center-center w10p">
                                <div class="column-center-center">
                                    <fa-icon class="cursor-pointer font-size-20em" [icon]="faBarcode"
                                        (click)="openViewBarcodeModal(documentListed)"></fa-icon>
                                    <small>barcode</small>
                                </div>
                            </div>
                            <div class="row-center-center w10p">
                                <div class="column-center-center">
                                    <fa-icon class="cursor-pointer font-size-20em" [icon]="faClockRotateLeft"
                                        (click)="openHistoryModal(documentListed)"></fa-icon>
                                    <small>storico</small>
                                </div>
                            </div>
                            <div class="row-center-center w10p">
                                <div class="column-center-center">
                                    <fa-icon class="cursor-pointer font-size-20em" [icon]="faMapMarker"
                                        (click)="openCollocationModal(documentListed)"></fa-icon>
                                    <small>posizione</small>
                                </div>
                            </div>
                            <div class="row-center-center w10p">
                                <div class="column-center-center">
                                    <fa-icon class="cursor-pointer font-size-20em" [icon]="faUsers"
                                        (click)="openOwnersModal(catalogue)"></fa-icon>
                                    <small>utenti</small>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>


            </div> -->
        </div>

        <dgta-owners-document-modal *ngIf="isOpenOwnersModal" [document]="document"
            (closeOwnersModalE)="closeOwnersModal(document)"></dgta-owners-document-modal>

        <dgta-collocation-document-modal *ngIf="isOpenCollocationModal" [document]="document"
            (closeCollocationModalE)="closeCollocationModal($event)"
            (getDocumentsE)="getDocuments()"></dgta-collocation-document-modal>

        <dgta-history-document-modal *ngIf="isOpenHistoryDocumentModal" [document]="document"
            (closeHistoryModalE)="closeHistoryModal()"></dgta-history-document-modal>

        <dgta-barcode-document-modal *ngIf="isOpenViewBarcodeModal" [document]="document"
            (closeBarcodeViewModalE)="closeViewBarcodeModal(document)"></dgta-barcode-document-modal>

        <dgta-state-document-modal *ngIf="isOpenStateModal" [document]="document"
            (closeStateModalE)="closeStateModal(document)" (getDocumentsE)="getDocuments()"></dgta-state-document-modal>
        <dgta-attachments-modal *ngIf="isOpenAttachmentModal" [document]="document"
            (closeAttahcmentsModalE)="closeAttachmentsModal(document)"
            (getDocumentsE)="getDocuments()"></dgta-attachments-modal>

        <dgta-document-form-modal *ngIf="isOpenDocumentFormModal" [catalogue]="catalogue"
            (emitterGetDocumentsE)="getDocuments()"
            (closeDocumentFormModalE)="closeModalDocuemntFormModal()"></dgta-document-form-modal>