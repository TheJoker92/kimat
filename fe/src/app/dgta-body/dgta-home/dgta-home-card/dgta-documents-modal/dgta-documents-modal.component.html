<div class="container column-top-left">
    <div class="row-center-left">
        <h2 class="ml10px">{{ catalogue.title }} - {{ catalogue.id }}</h2>
    </div>
    <div class="row-left-left p10px" (click)="openModalDocumentFormModal()">
        <strong>
            Documenti
        </strong>
        <fa-icon class="cursor-pointer color-green font-size-15em" [icon]="faFolderPlus"></fa-icon>
    </div>
    <div class="box-form column-center-spacebetween">
        <div class="ml10px row-center-space-between p10px w100p">
            <div class="h20px w16vw">
                <h4>
                    <div class="column-left-center">
                        <div>
                            nome
                        </div>
                        <small class="opacity-0">(fisico)</small>
                    </div>
                </h4>
            </div>
            <div class="h20px w10vw">
                <h4>
                    <div class="column-center-center">
                        argomento/i
                        <small class="opacity-0">(fisico)</small>
                    </div>
                </h4>
            </div>
            <div class="h20px w10vw">
                <h4>
                    <div class="column-center-center">
                        allegato/i
                        <small class="opacity-0">(fisico)</small>
                    </div>
                </h4>
            </div>
            <div class="h20px w10vw">
                <h4>
                    <div class="column-center-center">
                        barcode
                        <small class="opacity-0">(fisico)</small>
                    </div>
                </h4>
            </div>
            <div class="h20px w10vw">
                <h4>
                    <div class="column-center-center">
                        stato
                        <small class="opacity-0">(fisico)</small>
                    </div>
                </h4>
            </div>
            <div class="h20px w10vw">
                <h4>
                    <div class="column-center-center">
                        cronologia
                        <small class="opacity-0">(fisico)</small>
                    </div>
                </h4>
            </div>
            <div class="h20px w10vw">
                <h4>
                    <div class="column-center-center">
                        collocamento
                        <small>(fisico)</small>
                    </div>
                </h4>
            </div>
            <div class="h20px w10vw">
                <h4>
                    <div class="column-center-center">
                        proprietario/i
                    </div>
                    <small class="opacity-0">(fisico)</small>
                </h4>
            </div>
            <!-- <div class="h20px w10vw">
                <h4>
                    <div class="column-center-center">
                        dispositivo/i
                    </div>
                    <small class="opacity-0">(fisico)</small>
                </h4>
            </div> -->
            <div class="h20px w10vw">
                <h4>
                    <div class="column-center-center">
                    </div>
                    <small class="opacity-0">(fisico)</small>
                </h4>
            </div>
        </div>

        <div *ngFor="let document of documents" class="row-center-space-between mt40px p10px">
            <div class="row-center-left w16vw">
                <strong>{{ document.name }}</strong>
            </div>
            <div class="row-center-center w12vw">
                <div *ngFor="let topic of document.topics">
                    {{ topic }}
                </div>
            </div>
            <div class="row-center-center w10vw">
                <fa-icon class="cursor-pointer font-size-25em" [icon]="faFileLines"
                    (click)="openAttachmentsModal(document)"></fa-icon>
            </div>
            <div class="row-center-center w10vw">
                <fa-icon class="cursor-pointer font-size-25em" [icon]="faBarcode"
                    (click)="openViewBarcodeModal(document)"></fa-icon>
            </div>
            <div class="row-center-center w10vw">
                <div class="column-center-center stateValue" (click)="openStateModal(document)">
                    {{ document.states![document.states!.length - 1].stateValue }}
                </div>
            </div>
            <div class="row-center-center w10vw">
                <fa-icon class="cursor-pointer font-size-25em" [icon]="faClockRotateLeft"
                    (click)="openHistoryModal(document)"></fa-icon>
            </div>
            <div class="row-center-center w10vw">
                <fa-icon class="cursor-pointer font-size-25em" [icon]="faMapMarker"
                    (click)="openCollocationModal(document)"></fa-icon>

            </div>
            <div class="row-center-center w10vw">
                <fa-icon class="cursor-pointer font-size-25em" [icon]="faUsers"
                    (click)="openOwnersModal(catalogue)"></fa-icon>
            </div>
            <!-- <div class="row-center-center w10vw">
                <fa-icon class="cursor-pointer font-size-25em" [icon]="faCameraRetro"
                    (click)="openOwnersModal(catalogue)"></fa-icon>
            </div> -->
            <div class="row-center-center w10vw">
                <fa-icon class="cursor-pointer font-size-25em" [icon]="faTrash"
                    (click)="deleteDocument(document)"></fa-icon>
            </div>
        </div>

        <dgta-owners-document-modal *ngIf="isOpenOwnersModal" [document]="document"
            (closeOwnersModalE)="closeOwnersModal(document)"></dgta-owners-document-modal>

        <dgta-collocation-document-modal *ngIf="isOpenCollocationModal" [document]="document"
            (closeCollocationModalE)="closeCollocationModal(document)"
            (getDocumentsE)="getDocuments()"></dgta-collocation-document-modal>

        <dgta-history-document-modal *ngIf="isOpenHistoryDocumentModal" [document]="document"
            (closeHistoryModalE)="closeHistoryModal()"></dgta-history-document-modal>

        <dgta-barcode-document-modal *ngIf="isOpenViewBarcodeModal" [document]="document"
            (closeBarcodeViewModalE)="closeViewBarcodeModal(document)"></dgta-barcode-document-modal>

        <dgta-state-document-modal *ngIf="isOpenStateModal" [document]="document"
            (closeStateModalE)="closeStateModal(document)"
            (getDocumentsE)="getDocuments()"></dgta-state-document-modal>

        <div class="row-center-center">
            <button class="mt10px" (click)="close()">CHIUDI</button>
        </div>
    </div>
</div>

<dgta-document-form-modal *ngIf="isOpenDocumentFormModal" [catalogue]="catalogue" (emitterGetDocuments)="getDocuments()"
    (closeDocumentFormModalE)="closeModalDocuemntFormModal()"></dgta-document-form-modal>